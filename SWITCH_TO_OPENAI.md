# Переключение на OpenAI API

## Проблема
Получаете ошибку: `Backend API error: Anthropic API error: invalid x-api-key`

## Решение: Переключиться на OpenAI

### 1. Откройте настройки расширения
1. Нажмите на иконку 8pilot в панели инструментов браузера
2. Перейдите на вкладку "API"

### 2. Выберите провайдера OpenAI
1. В выпадающем списке "Provider" выберите "OpenAI"
2. Введите ваш OpenAI API ключ (должен начинаться с `sk-`)
3. Нажмите Enter или кликните вне поля ввода

### 3. Проверьте настройки
- ✅ Provider: OpenAI
- ✅ API Key: sk-... (ваш ключ)
- ✅ Статус: Сохранено

### 4. Перезагрузите страницу n8n
1. Обновите страницу с workflow
2. Попробуйте отправить сообщение в чат

## Получение OpenAI API ключа

### Если у вас нет ключа:
1. Перейдите на [platform.openai.com](https://platform.openai.com)
2. Войдите в аккаунт или создайте новый
3. Перейдите в [API Keys](https://platform.openai.com/api-keys)
4. Нажмите "Create new secret key"
5. Скопируйте ключ (начинается с `sk-`)

### Требования:
- ✅ Валидный аккаунт OpenAI
- ✅ Настроенная [платежная информация](https://platform.openai.com/settings/organization/billing/payment-methods)
- ✅ Ключ должен начинаться с `sk-`

## Проверка работы

После настройки:
1. Откройте n8n workflow
2. Нажмите на иконку 8pilot
3. Введите сообщение в чат
4. Должен прийти ответ от OpenAI

## Troubleshooting

### Ошибка "Invalid API key"
- Проверьте, что ключ начинается с `sk-`
- Убедитесь, что ключ скопирован полностью
- Проверьте, что у вас есть активная подписка OpenAI

### Ошибка "Insufficient credits"
- Пополните баланс в OpenAI
- Проверьте лимиты использования

### Чат не отвечает
- Проверьте, что backend запущен: `http://localhost:8000/health`
- Проверьте консоль браузера на ошибки
- Убедитесь, что расширение активировано

## Альтернативы

Если OpenAI не работает, можете попробовать:
- **Anthropic Claude** - выберите "Anthropic" в настройках
- **Другие провайдеры** - в будущих версиях

## Поддержка

Если проблемы остаются:
1. Проверьте консоль браузера (F12)
2. Проверьте логи backend
3. Создайте issue в репозитории
